webpackJsonp([11],{ApHp:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("HzJ8"),n=a.n(r),o=a("lC5x"),i=a.n(o),l=a("J0Oq"),s=a.n(l),c=a("g1sz"),d=a.n(c),g=a("Bm/8"),u=a.n(g),h={name:"StorageSpace",data:function(){return{util:u.a,allNetStorageChartCircle:null,allNetStorageChartLine:null,storageSpaceList:null,currentPage:1,loading:{storageStatChart:null,storageStatTb:null}}},computed:{tbList:function(){if(!this.storageSpaceList)return[];var t=10*(this.currentPage-1),e=t+10>this.storageSpaceList.length?this.storageSpaceList.length:t+10;return this.storageSpaceList.slice(t,e)},total:function(){return this.storageSpaceList?this.storageSpaceList.length:0},screenWidth:function(){return this.$store.state.Home.screenWidth}},watch:{screenWidth:function(){this.allNetStorageChartCircle.resize(),this.allNetStorageChartLine.resize()}},methods:{init:function(){this.getStorageStat()},currentChange:function(t){this.currentPage=t},getStorageStat:function(){var t=this;return s()(i.a.mark(function e(){var a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading.storageStatChart=t.$loading({target:".all-net-storage-chart.loading-content"}),t.loading.storageStatTb=t.$loading({target:".all-net-storage-tb.loading-content"}),e.next=4,t.$api2.getStorageStat();case 4:a=e.sent,t.loading.storageStatChart&&t.loading.storageStatChart.close(),t.loading.storageStatTb&&t.loading.storageStatTb.close(),0===a.error&&(t.storageSpaceList=a.result.Details,t.setAllNetStorageChartCircle(),t.setAllNetStorageChartLine());case 8:case"end":return e.stop()}},e,t)}))()},setAllNetStorageChartCircle:function(){var t=this,e={tooltip:{show:!0,trigger:"item",formatter:"{d}%",padding:[10,10],backgroundColor:"#FFFFFF",textStyle:{color:"#333",fontSize:"16"}},series:[{name:"USDJPY",type:"pie",radius:["32%","60%"],center:["50%","60%"],avoidLabelOverlap:!1,label:{normal:{show:!0,formatter:function(e){return e?e.name+":"+t.util.bytesToSize(1024*e.value):""},textStyle:{fontSize:"14"}}},data:[{value:this.storageSpaceList[0].Used,name:"Used",itemStyle:{normal:{show:!0,borderColor:"#3F3F40",borderWidth:10,color:"#CDDC39"}}},{value:this.storageSpaceList[0].Remain,name:"Remain",itemStyle:{normal:{show:!0,borderColor:"#3F3F40",borderWidth:10,color:"rgba(255,255,255,0.3)"}}}]}]},a=document.getElementById("allNetStorageChartCircle");this.allNetStorageChartCircle=d.a.init(a),this.allNetStorageChartCircle.setOption(e,!0)},setAllNetStorageChartLine:function(){var t=this,e=[],a=[],r=[],o=!0,i=!1,l=void 0;try{for(var s,c=n()(this.storageSpaceList);!(o=(s=c.next()).done);o=!0){var g=s.value;e.unshift(g.Remain),a.unshift(g.Used);var u=this.$dateFormat.formatMonthDayByTimestamp(1e3*g.UpdatedAt);r.unshift(u)}}catch(t){i=!0,l=t}finally{try{!o&&c.return&&c.return()}finally{if(i)throw l}}var h={grid:{left:"100",right:"4%",bottom:"25%"},legend:{data:["Used","Remain"],left:"center",bottom:"4%",textStyle:{color:"#ffffff"}},xAxis:{type:"category",boundaryGap:!1,data:r,axisLine:{lineStyle:{color:"rgba(255,255,255, 0.4)"}}},yAxis:{type:"value",splitLine:{lineStyle:{color:"rgba(255,255,255, 0.2)"}},axisLabel:{formatter:function(e){return t.util.bytesToSize(1024*e)}},axisLine:{lineStyle:{color:"rgba(255,255,255, 0.4)"}}},tooltip:{trigger:"axis",formatter:function(e){if(!e)return"";for(var a=e[0].name,r=0;r<e.length;r++){var n=e[r];a+="<br/>"+n.marker+n.seriesName+": "+t.util.bytesToSize(1024*n.value)}return a},axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},dataZoom:[{type:"inside",start:100*(1-(29.5/this.storageSpaceList.length>1?1:29.5/this.storageSpaceList.length)),end:100},{start:0,end:30,bottom:"11%",dataBackground:{areaStyle:{color:"rgba(255,255,255, 0.4)"}},handleIcon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4v1.3h1.3v-1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7V23h6.6V24.4z M13.3,19.6H6.7v-1.4h6.6V19.6z",handleSize:"80%",handleStyle:{color:"#fff",shadowBlur:3,shadowColor:"rgba(0, 0, 0, 0.3)",shadowOffsetX:2,shadowOffsetY:2}}],series:[{data:a,type:"line",name:"Used",itemStyle:{color:"#CDDC39"}},{data:e,type:"line",name:"Remain",itemStyle:{color:"#15A4C6"}}]},S=document.getElementById("allNetStorageChartLine");this.allNetStorageChartLine=d.a.init(S),this.allNetStorageChartLine.setOption(h,!0)}},mounted:function(){this.init()}},S=a("W5g0");var f=function(t){a("o0wv")},m=Object(S.a)(h,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"storageSpace"}},[t._m(0),t._v(" "),a("div",{staticClass:"all-net-storage-tb loading-content"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tbList}},[a("el-table-column",{attrs:{fixed:"",label:"Date","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v("\n\t\t\t\t\t\t"+t._s(t.$dateFormat.formatYearMonthDayByTimestamp(1e3*e.row.UpdatedAt))+"\n\t\t\t\t\t")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"Remain(PB)",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v("\n\t\t\t\t\t\t"+t._s(t.util.bytesToSize(1024*e.row.Remain))+"\n\t\t\t\t\t")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"Used(PB)",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v("\n\t\t\t\t\t\t"+t._s(t.util.bytesToSize(1024*e.row.Used))+"\n\t\t\t\t\t")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"total",label:"Total(PB)",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v("\n\t\t\t\t\t\t"+t._s(t.util.bytesToSize(1024*e.row.Used+1024*e.row.Remain))+"\n\t\t\t\t\t")])]}}])})],1),t._v(" "),a("el-pagination",{staticClass:"pagination",attrs:{background:"",layout:"prev, pager, next",total:t.total},on:{"current-change":t.currentChange}})],1)])},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"all-net-storage-chart loading-content"},[e("div",{staticClass:"all-net-storage-chart-circle",attrs:{id:"allNetStorageChartCircle"}}),this._v(" "),e("div",{staticClass:"all-net-storage-chart-line",attrs:{id:"allNetStorageChartLine"}})])}],!1,f,"data-v-5bbe9623",null);e.default=m.exports},o0wv:function(t,e){}});
//# sourceMappingURL=11.9ef8bde8c15e61a643cc.js.map