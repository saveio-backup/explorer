webpackJsonp([17],{"KTg/":function(t,a,n){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=n("HzJ8"),e=n.n(i),r=n("lC5x"),s=n.n(r),o=n("J0Oq"),c=n.n(o),l=n("g1sz"),d=n.n(l),h={name:"DayTransaction",data:function(){return{dayTransactionChart:null,dayTransactionList:null,currentPage:1,selectTime:1,loading:{transactionStatChart:null,transactionStatTb:null}}},computed:{tbList:function(){if(!this.dayTransactionList)return[];var t=10*(this.currentPage-1),a=t+10>this.dayTransactionList.length?this.dayTransactionList.length:t+10;return this.dayTransactionList.slice(t,a)},total:function(){return this.dayTransactionList?this.dayTransactionList.length:0},screenWidth:function(){return this.$store.state.Home.screenWidth}},watch:{screenWidth:function(){this.dayTransactionChart.resize()}},methods:{init:function(){this.getTransactionStat()},currentChange:function(t){this.currentPage=t},getTransactionStat:function(){var t=this;return c()(s.a.mark(function a(){var n;return s.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t.loading.transactionStatChart=t.$loading({target:".day-transaction-chart.loading-content"}),t.loading.transactionStatTb=t.$loading({target:".day-transaction-tb.loading-content"}),a.next=4,t.$api2.getTransactionStat({});case 4:n=a.sent,t.loading.transactionStatChart&&t.loading.transactionStatChart.close(),t.loading.transactionStatTb&&t.loading.transactionStatTb.close(),0===n.error&&(t.dayTransactionList=n.result,t.setDayTransactionChart());case 8:case"end":return a.stop()}},a,t)}))()},setDayTransactionChart:function(){var t=[],a=[],n=!0,i=!1,r=void 0;try{for(var s,o=e()(this.dayTransactionList);!(n=(s=o.next()).done);n=!0){var c=s.value,l=0===this.selectTime?c.Offchain:c.Onchain;t.unshift(l);var h=this.$dateFormat.formatMonthDayByTimestamp(1e3*c.UpdatedAt);a.unshift(h)}}catch(t){i=!0,r=t}finally{try{!n&&o.return&&o.return()}finally{if(i)throw r}}var u={itemStyle:{color:"#CDDC39"},grid:{left:"13%",right:"4%",bottom:"16%"},xAxis:{type:"category",boundaryGap:!1,data:a,axisLine:{lineStyle:{color:"rgba(255,255,255, 0.4)"}}},yAxis:{type:"value",splitLine:{lineStyle:{color:"rgba(255,255,255, 0.2)"}},axisLine:{lineStyle:{color:"rgba(255,255,255, 0.4)"}}},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},dataZoom:[{type:"inside",start:100*(1-(29.5/this.dayTransactionList.length>1?1:29.5/this.dayTransactionList.length)),end:100},{start:0,end:30,bottom:"4%",dataBackground:{areaStyle:{color:"rgba(255,255,255, 0.4)"}},handleIcon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4v1.3h1.3v-1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7V23h6.6V24.4z M13.3,19.6H6.7v-1.4h6.6V19.6z",handleSize:"80%",handleStyle:{color:"#fff",shadowBlur:3,shadowColor:"rgba(0, 0, 0, 0.3)",shadowOffsetX:2,shadowOffsetY:2}}],series:[{data:t,type:"line",areaStyle:{color:"rgba(205, 220, 57, 0.2)"}}]},f=document.getElementById("dayTransactionChart");this.dayTransactionChart=d.a.init(f),this.dayTransactionChart.setOption(u,!0)},setSelectTime:function(t){this.selectTime=t,this.setDayTransactionChart()}},mounted:function(){this.init()}},u=n("W5g0");var f=function(t){n("nJ8d")},y=Object(u.a)(h,function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{attrs:{id:"dayTransaction"}},[n("div",{staticClass:"day-transaction-wrapper"},[n("div",{staticClass:"day-transaction-exchange"},[n("p",{staticClass:"day-transaction-chart-btn",class:{select:0===t.selectTime},on:{click:function(a){return a.stopPropagation(),t.setSelectTime(0)}}},[t._v("Off Chain")]),t._v(" "),n("p",{staticClass:"day-transaction-chart-btn ml10",class:{select:1===t.selectTime},on:{click:function(a){return a.stopPropagation(),t.setSelectTime(1)}}},[t._v("On Chain")])]),t._v(" "),n("div",{staticClass:"day-transaction-chart loading-content",attrs:{id:"dayTransactionChart"}})]),t._v(" "),n("div",{staticClass:"day-transaction-tb loading-content"},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tbList}},[n("el-table-column",{attrs:{fixed:"",label:"Date","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(a){return[n("div",[t._v("\n\t\t\t\t\t\t"+t._s(t.$dateFormat.formatYearMonthDayByTimestamp(1e3*a.row.UpdatedAt))+"\n\t\t\t\t\t")])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"On Chain Transaction",width:"180"},scopedSlots:t._u([{key:"default",fn:function(a){return[n("div",[t._v("\n\t\t\t\t\t\t"+t._s(a.row.Onchain)+"\n\t\t\t\t\t")])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"Off Chain Transaction",width:"180"},scopedSlots:t._u([{key:"default",fn:function(a){return[n("div",[t._v("\n\t\t\t\t\t\t"+t._s(a.row.Offchain)+"\n\t\t\t\t\t")])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"Total Chain Transaction",width:"180"},scopedSlots:t._u([{key:"default",fn:function(a){return[n("div",[t._v("\n\t\t\t\t\t\t"+t._s(a.row.Onchain+a.row.Offchain)+"\n\t\t\t\t\t")])]}}])})],1),t._v(" "),n("el-pagination",{staticClass:"pagination",attrs:{background:"",layout:"prev, pager, next",total:t.total},on:{"current-change":t.currentChange}})],1)])},[],!1,f,"data-v-0510ab6a",null);a.default=y.exports},nJ8d:function(t,a){}});
//# sourceMappingURL=17.faff4c2c8ec2b4159d86.js.map